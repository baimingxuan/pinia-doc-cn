(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{420:function(t,s,a){"use strict";a.r(s);var n=a(56),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nuxt-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nuxt-js"}},[t._v("#")]),t._v(" Nuxt.js")]),t._v(" "),a("p",[a("code",[t._v("Pinia")]),t._v("ä¸"),a("a",{attrs:{href:"https://nuxtjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nuxt.js"),a("OutboundLink")],1),t._v("ä¸€èµ·ä½¿ç”¨æ˜¯æ›´å®¹æ˜“çš„ï¼Œå› ä¸º"),a("code",[t._v("Nuxt")]),t._v("åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æ–¹é¢å¤„ç†äº†å¾ˆå¤šäº‹æƒ…ã€‚ä¾‹å¦‚ï¼Œæ‚¨ä¸éœ€è¦å…³å¿ƒåºåˆ—åŒ–æˆ–"),a("code",[t._v("XSS")]),t._v("æ”»å‡»çš„é—®é¢˜ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[t._v("#")]),t._v(" å®‰è£…")]),t._v(" "),a("p",[t._v("è¯·ç¡®ä¿"),a("code",[t._v("pinia")]),t._v("å’Œ"),a("a",{attrs:{href:"https://composition-api.nuxtjs.org/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("@nuxtjs/composition-api")]),a("OutboundLink")],1),t._v("ä¸€èµ·å®‰è£…ï¼š")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" pinia @pinia/nuxt @nuxtjs/composition-api\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or with npm")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" pinia @pinia/nuxt @nuxtjs/composition-api\n")])])]),a("p",[t._v("æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ¨¡å—æ¥ä¸ºæ‚¨å¤„ç†æ‰€æœ‰äº‹æƒ…ï¼Œæ‚¨åªéœ€åœ¨"),a("code",[t._v("nuxt.config.js")]),t._v("æ–‡ä»¶ä¸­å°†å…¶æ·»åŠ åˆ°"),a("code",[t._v("buildModules")]),t._v("æ¨¡å—ä¸­ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// nuxt.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... other options")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("buildModules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Nuxt 2 only:")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://composition-api.nuxtjs.org/getting-started/setup#quick-start")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/composition-api/module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@pinia/nuxt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å°±æ˜¯è¿™æ ·ï¼Œåƒå¾€å¸¸ä¸€æ ·ä½¿ç”¨æ‚¨çš„"),a("code",[t._v("store")]),t._v("ï¼")]),t._v(" "),a("h2",{attrs:{id:"ä¸åœ¨-setup-ä¸­ä½¿ç”¨-store"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸åœ¨-setup-ä¸­ä½¿ç”¨-store"}},[t._v("#")]),t._v(" ä¸åœ¨ setup() ä¸­ä½¿ç”¨ store")]),t._v(" "),a("p",[t._v("å¦‚æœæ‚¨ä¸æƒ³åœ¨"),a("code",[t._v("setup()")]),t._v("ä¸­ä½¿ç”¨"),a("code",[t._v("store")]),t._v("ï¼Œè¯·è®°ä½å°†"),a("code",[t._v("pinia")]),t._v("å¯¹è±¡ä¼ é€’ç»™"),a("code",[t._v("useStore()")]),t._v("ã€‚æˆ‘ä»¬å°†å®ƒæ·»åŠ åˆ°"),a("a",{attrs:{href:"https://nuxtjs.org/docs/internals-glossary/context/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸Šä¸‹æ–‡"),a("OutboundLink")],1),t._v("ä¸­ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨"),a("code",[t._v("asyncData()")]),t._v("å’Œ"),a("code",[t._v("fetch()")]),t._v("ä¸­è®¿é—®å®ƒ:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useStore "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'~/stores/myStore'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $pinia "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$pinia"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"åœ¨-stores-ä¸­ä½¿ç”¨-nuxt-ä¸Šä¸‹æ–‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨-stores-ä¸­ä½¿ç”¨-nuxt-ä¸Šä¸‹æ–‡"}},[t._v("#")]),t._v(" åœ¨ stores ä¸­ä½¿ç”¨ Nuxt ä¸Šä¸‹æ–‡")]),t._v(" "),a("p",[t._v("é€šè¿‡ä½¿ç”¨æ³¨å…¥çš„"),a("code",[t._v("$nuxt")]),t._v("å±æ€§ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ä»»ä½•"),a("code",[t._v("store")]),t._v("ä¸­ä½¿ç”¨"),a("a",{attrs:{href:"https://nuxtjs.org/docs/internals-glossary/context/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸Šä¸‹æ–‡"),a("OutboundLink")],1),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useUserStore "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'~/stores/userStore'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cart'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("purchase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useUserStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isAuthenticated")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$nuxt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/login'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"å°†-pinia-ä¸-vuex-ä¸€èµ·ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°†-pinia-ä¸-vuex-ä¸€èµ·ä½¿ç”¨"}},[t._v("#")]),t._v(" å°† Pinia ä¸ Vuex ä¸€èµ·ä½¿ç”¨")]),t._v(" "),a("p",[t._v("å»ºè®®é¿å…åŒæ—¶ä½¿ç”¨"),a("code",[t._v("Pinia")]),t._v("å’Œ"),a("code",[t._v("Vuex")]),t._v("ï¼Œä½†å¦‚æœæ‚¨éœ€è¦åŒæ—¶ä½¿ç”¨ï¼Œæ‚¨éœ€è¦å‘Šè¯‰"),a("code",[t._v("Pinia")]),t._v("ä¸è¦ç¦ç”¨å®ƒ:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// nuxt.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("buildModules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@nuxtjs/composition-api/module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@pinia/nuxt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("disableVuex")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... other options")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"typescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typescript"}},[t._v("#")]),t._v(" TypeScript")]),t._v(" "),a("p",[t._v("å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯"),a("code",[t._v("TypeScript")]),t._v("æˆ–"),a("code",[t._v("jsconfig.json")]),t._v("ï¼Œæ‚¨è¿˜åº”è¯¥æ·»åŠ "),a("code",[t._v("context.pinia")]),t._v("çš„ç±»å‹:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@pinia/nuxt"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™ä¹Ÿå°†ç¡®ä¿æ‚¨å…·æœ‰è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ğŸ˜‰ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);